
<!-- README.md is generated from README.Rmd. Please edit that file -->

# `{plumberizer}`

## Installation

Install the development version from
[GitHub](https://github.com/jcrodriguez1989/plumberizer) with:

``` r
# install.packages("remotes")
remotes::install_github("jcrodriguez1989/plumberizer")
```

## Usage

`{plumberizer}`’s main function is `plumberize`, call it with the
package that you need to generate a Plumber API configuration file, and
it will build it for you:

``` r
plumberizer::plumberize("emoji")
```

    #> ! Plumberizing arrow
    #> ! Plumberizing clock
    #> ! Plumberizing day_in_synodic_cycle
    #> ! Plumberizing emoji
    #> ! Plumberizing emoji_count
    #> ! Plumberizing emoji_detect
    #> ! Plumberizing emoji_extract
    #> ! Plumberizing emoji_extract_all
    #> ! Plumberizing emoji_find
    #> ! Plumberizing emoji_fix
    #> ! Plumberizing emoji_glue
    #> ! Plumberizing emoji_locate
    #> ! Plumberizing emoji_locate_all
    #> ! Plumberizing emoji_match
    #> ! Plumberizing emoji_match_all
    #> ! Plumberizing emoji_modifier_extract
    #> ! Plumberizing emoji_modifier_remove
    #> ! Plumberizing emoji_p
    #> ! Plumberizing emoji_replace
    #> ! Plumberizing emoji_replace_all
    #> ! Plumberizing emoji_replace_name
    #> ! Plumberizing emoji_subset
    #> ! Plumberizing emoji_which
    #> ! Plumberizing flag
    #> ! Plumberizing keycap
    #> ! Plumberizing medal
    #> ! Plumberizing moon
    #> ! Plumberizing shape
    #> ! Plumberizing zoo
    library("plumber")
    library("emoji")

    #* @apiTitle emoji
    #* @apiDescription RESTful API for emoji generated by the plumberizer package.
    #* @apiVersion 0.0.1

    #* Insert Arrow emojis
    #* 
    #* Insert Arrow emojis
    #* @param direction Character denoting the direction of the arrow. Should be one of “up”, “up-right”, “right”, “down-right”, “down”, “down-left”, “left”, “up-left”, “up-down”, or “left-right”.
    #* @get /arrow
    #* @tag Endpoints
    function(direction) {
      arrow(direction)
    }

    #* emoji version of time
    #* 
    #* emoji version of time
    #* Returns: Character vector of emojis showing the closest time.
    #* @param time a  POSIXct  object
    #* @get /clock
    #* @tag Endpoints
    function(time) {
      clock(time)
    }

    #* Calculate the number of days in the synodic month
    #* 
    #* This uses the approximation described in the
    #* list(list("https://en.wikipedia.org/wiki/Lunar_phase"), list("lunar phase wikipedia page"))
    #* , i.e.
    #* the number of days since 
    #* list("1900/01/01")
    #*  modulo the length of
    #* a synodic month (
    #* list("29.530588853")
    #*  days)
    #* @param date a date
    #* @get /day_in_synodic_cycle
    #* @tag Endpoints
    function(date) {
      day_in_synodic_cycle(date)
    }

    #* Find a single emoji
    #* 
    #* This function starts by looking for exact matches in 
    #* list("emoji_name")
    #* . If none is
    #* found in 
    #* list("emoji_name")
    #*  then it looks in 
    #* list("emoji_keyword")
    #* . 
    #* list("emoji_keyword")
    #*  can
    #* produce more then 1 matches, which will lead to one being returned at random.
    #* @param keyword Character, either name or keyword. If more than one emoji has the specified keyword, will pick one at random.
    #* @get /emoji
    #* @tag Endpoints
    function(keyword) {
      emoji(keyword)
    }

    #* Count the number of emojis in a string
    #* 
    #* Vectorised over 
    #* list("string")
    #* 
    #* Returns: An integer vector
    #* @param string Input vector
    #* @get /emoji_count
    #* @tag Endpoints
    function(string) {
      emoji_count(string)
    }

    #* Detect the presence or absence of emojis in a string
    #* 
    #* Vectorised over 
    #* list("string")
    #* 
    #* Returns: A logical vector
    #* @param string Input vector. Either a character vector, or something coercible to one.
    #* @param negate If  TRUE , inverts the resulting boolean vector.
    #* @get /emoji_detect
    #* @tag Endpoints
    function(string, negate = FALSE) {
      emoji_detect(string, negate)
    }

    #* Extract emojis from a string
    #* 
    #* vectorised over 
    #* list("string")
    #* 
    #* Returns: A character vector
    #* @param string Input vector.
    #* @param simplify see  stringr::str_extract_all()
    #* @get /emoji_extract
    #* @tag Endpoints
    function(string) {
      emoji_extract(string)
    }

    #* Extract emojis from a string
    #* 
    #* vectorised over 
    #* list("string")
    #* 
    #* Returns: A character vector
    #* @param string Input vector.
    #* @param simplify see  stringr::str_extract_all()
    #* @get /emoji_extract_all
    #* @tag Endpoints
    function(string, simplify = FALSE) {
      emoji_extract_all(string, simplify)
    }

    #* List all emoji with a given keyword
    #* 
    #* This function will look in 
    #* list("emoji_keyword")
    #*  to report back the given emojis.
    #* @param keyword Character, Emoji keyword.
    #* @get /emoji_find
    #* @tag Endpoints
    function(keyword) {
      emoji_find(keyword)
    }

    #* Turn emojis into qualified emojis
    #* 
    #* Some emojis can be written in multiple different ways either as
    #* list("fully-qualified")
    #* , 
    #* list("minimally-qualified")
    #* , or 
    #* list("unqualified")
    #* . 
    #* list("emoji_fix()")
    #* 
    #* will take any emoji and return the 
    #* list("fully-qualified")
    #*  version of that emoji.
    #* Returns: vector of fully-qualified emojis
    #* @param x Characters, vector of emojis.
    #* @get /emoji_fix
    #* @tag Endpoints
    function(x) {
      emoji_fix(x)
    }

    #* Glue Interpolation for Emojis
    #* 
    #* Combine the power of 
    #* list("glue::glue")
    #*  and 
    #* list("emoji()")
    #* .
    #* Returns: a  list("glue::glue()")  string.
    #* @param ... [ expressions ]  Unnamed arguments are taken to be expression string(s) to format. Multiple inputs are concatenated together before formatting. Named arguments are taken to be temporary variables available for substitution.  For  glue_data() , elements in  ...  override the values in  .x .
    #* @param .envir [ environment :  parent.frame() ]  Environment to evaluate each expression in. Expressions are evaluated from left to right. If  .x  is an environment, the expressions are evaluated in that environment and  .envir  is ignored. If  NULL  is passed, it is equivalent to  emptyenv() .
    #* @get /emoji_glue
    #* @tag Endpoints
    function(..., .envir = parent.frame()) {
      emoji_glue(..., .envir)
    }

    #* Locate the position of emojis in a string
    #* 
    #* Vectorised over 
    #* list("string")
    #* 
    #* Returns: For  list("emoji_locate")  an integer matrix, for  list("emoji_locate_all")  a list of integer matrices
    #* @param string Input vector
    #* @get /emoji_locate
    #* @tag Endpoints
    function(string) {
      emoji_locate(string)
    }

    #* Locate the position of emojis in a string
    #* 
    #* Vectorised over 
    #* list("string")
    #* 
    #* Returns: For  list("emoji_locate")  an integer matrix, for  list("emoji_locate_all")  a list of integer matrices
    #* @param string Input vector
    #* @get /emoji_locate_all
    #* @tag Endpoints
    function(string) {
      emoji_locate_all(string)
    }

    #* Extract matched emojis from a string
    #* 
    #* Vectorized over 
    #* list("string")
    #* 
    #* Returns: see  list(list("stringr::str_match()")) 
    #* @param string Input vector
    #* @get /emoji_match
    #* @tag Endpoints
    function(string) {
      emoji_match(string)
    }

    #* Extract matched emojis from a string
    #* 
    #* Vectorized over 
    #* list("string")
    #* 
    #* Returns: see  list(list("stringr::str_match()")) 
    #* @param string Input vector
    #* @get /emoji_match_all
    #* @tag Endpoints
    function(string) {
      emoji_match_all(string)
    }

    #* Extract Modifiers from Emojis
    #* 
    #* Extract Modifiers from Emojis
    #* Returns: list of character vectors.
    #* @param x Characters, vector of emojis.
    #* @get /emoji_modifier_extract
    #* @tag Endpoints
    function(x) {
      emoji_modifier_extract(x)
    }

    #* Remove Modifiers from Emojis
    #* 
    #* Remove Modifiers from Emojis
    #* Returns: character vector, single emojis will be replaced with un-modified if possible.
    #* @param x Characters, vector of emojis.
    #* @get /emoji_modifier_remove
    #* @tag Endpoints
    function(x) {
      emoji_modifier_remove(x)
    }

    #* Summarise your p-values with emoji
    #* 
    #* Summarise your p-values with emoji
    #* @param x A vector of p-values.
    #* @param names A character vector, for each of the p-value cutoff points. The names are being passed to  emoji() .
    #* @param cutpoints A numeric vector of cutpoints between emojis.
    #* @param legend Logical, denotes if the result should be returned with a legend.
    #* @get /emoji_p
    #* @tag Endpoints
    function(x, names = c("laughing", "joy", "grin", "smile", "thinking", "poop"), cutpoints = c(1e-05, 0.001, 0.01, 0.05, 0.1), legend = FALSE) {
      emoji_p(x, names, cutpoints, legend)
    }

    #* Replace emojis in a string
    #* 
    #* Vectorised over 
    #* list("string")
    #*  and 
    #* list("replacement")
    #* 
    #* Returns: A character vector
    #* @param string Input vector
    #* @param replacement A character vector of replacements. Should either be of length 1 or the same length as  string . See  stringr::str_replace()  for details
    #* @get /emoji_replace
    #* @tag Endpoints
    function(string, replacement) {
      emoji_replace(string, replacement)
    }

    #* Replace emojis in a string
    #* 
    #* Vectorised over 
    #* list("string")
    #*  and 
    #* list("replacement")
    #* 
    #* Returns: A character vector
    #* @param string Input vector
    #* @param replacement A character vector of replacements. Should either be of length 1 or the same length as  string . See  stringr::str_replace()  for details
    #* @get /emoji_replace_all
    #* @tag Endpoints
    function(string, replacement) {
      emoji_replace_all(string, replacement)
    }

    #* Replace emojis in a string with name
    #* 
    #* Vectorised over 
    #* list("string")
    #* 
    #* Returns: A character vector
    #* @param string Input vector
    #* @get /emoji_replace_name
    #* @tag Endpoints
    function(string) {
      emoji_replace_name(string)
    }

    #* Keep strings containing an emoji, or find positions
    #* 
    #* Keep strings containing an emoji, or find positions
    #* Returns: A character vector
    #* @param string input vector
    #* @param negate If  TRUE , inverts the resulting boolean vector.
    #* @get /emoji_subset
    #* @tag Endpoints
    function(string, negate = FALSE) {
      emoji_subset(string, negate)
    }

    #* Keep strings containing an emoji, or find positions
    #* 
    #* Keep strings containing an emoji, or find positions
    #* Returns: A character vector
    #* @param string input vector
    #* @param negate If  TRUE , inverts the resulting boolean vector.
    #* @get /emoji_which
    #* @tag Endpoints
    function(string, negate = FALSE) {
      emoji_which(string, negate)
    }

    #* Insert Flag Emojis
    #* 
    #* Insert Flag Emojis
    #* Returns: Character vector of emojis.
    #* @param name Character denoting the place of the flag. Set  return_key = TRUE  to get full list of allowed names.
    #* @param return_key Logical, set to TRUE to get full list of allowed names.
    #* @get /flag
    #* @tag Endpoints
    function(name, return_key = FALSE) {
      flag(name, return_key)
    }

    #* Keycap emoji sequence
    #* 
    #* Keycap emoji sequence
    #* Returns: a keycap version of  list("x") 
    #* @param x character, must be a number between 0 and 10, "#", or "*".
    #* @get /keycap
    #* @tag Endpoints
    function(x) {
      keycap(x)
    }

    #* Insert medal emojis
    #* 
    #* Insert medal emojis
    #* Returns: Character vector of emojis.
    #* @param place Character denoting the place of the medal. See details for allowed names.
    #* @get /medal
    #* @tag Endpoints
    function(place) {
      medal(place)
    }

    #* Insert Moon Phase Emoji
    #* 
    #* Insert Moon Phase Emoji
    #* Returns: a moon emoji
    #* @param date a date
    #* @param day number of days since new moon
    #* @get /moon
    #* @tag Endpoints
    function(date, day = day_in_synodic_cycle(date)) {
      moon(date, day)
    }

    #* Insert Arrow emojis
    #* 
    #* Insert Arrow emojis
    #* @param color Character, denoting the color of the shape. Must be one of "red", "orange", "yellow", "green", "blue", "purple", "brown", "black", "white".
    #* @param type Character, denoting the type of shape. Must be one of "heart", "circle", or "square.
    #* @get /shape
    #* @tag Endpoints
    function(color, type) {
      shape(color, type)
    }

    #* Random Animals
    #* 
    #* This function returns random animals emojis.
    #* Returns: Character vector of animal emojis.
    #* @param size a non-negative integer giving the number of items to choose.
    #* @param replace should sampling be with replacement? Defaults to  FALSE .
    #* @get /zoo
    #* @tag Endpoints
    function(size, replace = FALSE) {
      zoo(size, replace)
    }
